# Production Configuration for Enhanced AI Trade Copilot

# Server Configuration
server.port=8080
server.servlet.context-path=/api
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Database Configuration
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/tariffsheriff_prod}
spring.datasource.username=${DATABASE_USERNAME:tariffsheriff}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.tariffsheriff=INFO
logging.level.org.springframework.security=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/tariffsheriff-production.log
logging.file.max-size=100MB
logging.file.max-history=30

# Security Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# AI Configuration - Enhanced Features
ai.enabled=true
ai.provider=gemini
ai.model=gemini-1.5-pro
ai.temperature=0.7
ai.max-tokens=4096
ai.timeout=30s

# Enhanced AI Features - Production Rollout
ai.features.enhanced-orchestration.enabled=true
ai.features.enhanced-orchestration.rollout-percentage=100
ai.features.advanced-reasoning.enabled=true
ai.features.advanced-reasoning.rollout-percentage=100
ai.features.real-time-data.enabled=true
ai.features.real-time-data.rollout-percentage=100
ai.features.enhanced-ui.enabled=true
ai.features.enhanced-ui.rollout-percentage=100
ai.features.multi-agent-coordination.enabled=true
ai.features.multi-agent-coordination.rollout-percentage=100
ai.features.contextual-memory.enabled=true
ai.features.contextual-memory.rollout-percentage=100
ai.features.proactive-intelligence.enabled=true
ai.features.proactive-intelligence.rollout-percentage=100

# AI Orchestration Configuration
ai.orchestration.max-concurrent-queries=100
ai.orchestration.query-timeout=300s
ai.orchestration.context-retention=24h
ai.orchestration.max-agents-per-query=5

# AI Agents Configuration
ai.agents.tariff-analysis.enabled=true
ai.agents.tariff-analysis.timeout=60s
ai.agents.tariff-analysis.max-complexity=high
ai.agents.compliance.enabled=true
ai.agents.compliance.timeout=45s
ai.agents.compliance.regulatory-sources=customs,trade_gov,wto
ai.agents.market-intelligence.enabled=true
ai.agents.market-intelligence.timeout=30s
ai.agents.market-intelligence.data-sources=bloomberg,reuters,trade_stats
ai.agents.risk-assessment.enabled=true
ai.agents.risk-assessment.timeout=45s
ai.agents.optimization.enabled=true
ai.agents.optimization.timeout=60s

# Reasoning Engine Configuration
ai.reasoning.max-inference-depth=10
ai.reasoning.confidence-threshold=0.8
ai.reasoning.explanation-detail=high
ai.reasoning.cache-enabled=true
ai.reasoning.cache-ttl=1h

# Real-time Data Configuration
data.realtime.enabled=true
data.realtime.update-frequency=5m
data.realtime.cache-ttl=1h
data.realtime.quality-threshold=0.9
data.realtime.max-sources=10

# External API Configuration
external.apis.news.enabled=true
external.apis.news.url=${NEWS_API_URL}
external.apis.news.key=${NEWS_API_KEY}
external.apis.news.rate-limit=1000/hour

external.apis.market-data.enabled=true
external.apis.market-data.url=${MARKET_DATA_API_URL}
external.apis.market-data.key=${MARKET_DATA_API_KEY}
external.apis.market-data.rate-limit=500/hour

external.apis.regulatory.enabled=true
external.apis.regulatory.url=${REGULATORY_API_URL}
external.apis.regulatory.key=${REGULATORY_API_KEY}
external.apis.regulatory.rate-limit=200/hour

# Caching Configuration
spring.cache.type=redis
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD}
spring.redis.timeout=2000ms
spring.redis.jedis.pool.max-active=20
spring.redis.jedis.pool.max-idle=10
spring.redis.jedis.pool.min-idle=5

# Cache TTL Configuration
cache.ttl.feature-flags=300s
cache.ttl.user-context=1h
cache.ttl.query-results=30m
cache.ttl.market-data=5m
cache.ttl.tariff-rates=1h

# Performance Configuration
performance.response-time-target=10s
performance.cache-hit-ratio-target=0.85
performance.concurrent-user-limit=1000
performance.thread-pool.core-size=10
performance.thread-pool.max-size=50
performance.thread-pool.queue-capacity=100

# Auto-scaling Configuration
autoscaling.enabled=true
autoscaling.min-instances=3
autoscaling.max-instances=20
autoscaling.cpu-threshold=70
autoscaling.memory-threshold=80
autoscaling.scale-up-cooldown=300s
autoscaling.scale-down-cooldown=600s

# Monitoring Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Deployment Configuration
deployment.environment=production
deployment.version=${APP_VERSION:1.0.0}
deployment.blue-green.enabled=true
deployment.rollback.enabled=true
deployment.health-check.enabled=true
deployment.health-check.interval=30s
deployment.health-check.timeout=10s

# Security Configuration
security.require-ssl=true
security.content-security-policy=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'
security.frame-options=DENY
security.content-type-options=nosniff
security.xss-protection=1; mode=block

# Rate Limiting Configuration
rate-limiting.enabled=true
rate-limiting.requests-per-minute=100
rate-limiting.requests-per-hour=1000
rate-limiting.requests-per-day=10000
rate-limiting.burst-capacity=20

# Audit Configuration
audit.enabled=true
audit.log-requests=true
audit.log-responses=false
audit.retention-days=90
audit.sensitive-data-masking=true

# Error Handling Configuration
error.include-stacktrace=never
error.include-message=always
error.include-binding-errors=never